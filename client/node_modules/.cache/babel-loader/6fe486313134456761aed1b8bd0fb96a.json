{"ast":null,"code":"import _classCallCheck from\"/Users/jsilver/Desktop/Coding Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jsilver/Desktop/Coding Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jsilver/Desktop/Coding Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jsilver/Desktop/Coding Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import Jumbotron from\"../components/Jumbotron\";import SearchForm from\"../components/SearchForm\";import{Container,Row,Col}from\"../components/Grid\";import BookResults from\"../components/BookResults\";var Books=/*#__PURE__*/function(_Component){_inherits(Books,_Component);var _super=_createSuper(Books);function Books(){var _this;_classCallCheck(this,Books);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",books:[],error:\"\",message:\"\"};_this.handleInputChange=function(event){_this.setState({search:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();API.getGoogleSearchBooks(_this.state.search).then(function(res){var books=res.data.items;books=books.map(function(book){book={key:book.id,id:book.id,title:book.volumeInfo.title,author:book.volumeInfo.authors,description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.thumbnail,link:book.volumeInfo.infoLink};return book;});_this.setState({books:books,error:\"\"});}).catch(function(err){return _this.setState({error:err.items});});};_this.handleSavedButton=function(event){event.preventDefault();var booksSaved=_this.state.books.filter(function(bookSaved){return bookSaved.id===event.target.id;});booksSaved=booksSaved[0];API.saveBook(booksSaved).then(_this.setState({message:alert(\"This book has been saved\")})).catch(function(err){return console.log(err);});};return _this;}_createClass(Books,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Google Book Search\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Search for and Save Books of Interest\")),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"12\"},/*#__PURE__*/React.createElement(SearchForm,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange})))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(BookResults,{books:this.state.books,handleSavedButton:this.handleSavedButton})));}}]);return Books;}(Component);export default Books;","map":{"version":3,"sources":["/Users/jsilver/Desktop/Coding Projects/google-books-search/client/src/pages/Books.js"],"names":["React","Component","API","Jumbotron","SearchForm","Container","Row","Col","BookResults","Books","state","search","books","error","message","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","getGoogleSearchBooks","then","res","data","items","map","book","key","id","title","volumeInfo","author","authors","description","image","imageLinks","thumbnail","link","infoLink","catch","err","handleSavedButton","booksSaved","filter","bookSaved","saveBook","alert","console","log"],"mappings":"gtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,oBAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,C,GAEMC,CAAAA,K,uTACFC,K,CAAQ,CACJC,MAAM,CAAE,EADJ,CAEJC,KAAK,CAAE,EAFH,CAGJC,KAAK,CAAE,EAHH,CAIJC,OAAO,CAAE,EAJL,C,OAORC,iB,CAAoB,SAAAC,KAAK,CAAI,CACzB,MAAKC,QAAL,CAAc,CAAEN,MAAM,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAAvB,CAAd,EACH,C,OAEDC,gB,CAAmB,SAAAJ,KAAK,CAAI,CACxBA,KAAK,CAACK,cAAN,GACAnB,GAAG,CAACoB,oBAAJ,CAAyB,MAAKZ,KAAL,CAAWC,MAApC,EACKY,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIZ,CAAAA,KAAK,CAAGY,GAAG,CAACC,IAAJ,CAASC,KAArB,CACAd,KAAK,CAAGA,KAAK,CAACe,GAAN,CAAU,SAAAC,IAAI,CAAI,CACtBA,IAAI,CAAG,CACHC,GAAG,CAAED,IAAI,CAACE,EADP,CAEHA,EAAE,CAAEF,IAAI,CAACE,EAFN,CAGHC,KAAK,CAAEH,IAAI,CAACI,UAAL,CAAgBD,KAHpB,CAIHE,MAAM,CAAEL,IAAI,CAACI,UAAL,CAAgBE,OAJrB,CAKHC,WAAW,CAAEP,IAAI,CAACI,UAAL,CAAgBG,WAL1B,CAMHC,KAAK,CAAER,IAAI,CAACI,UAAL,CAAgBK,UAAhB,CAA2BC,SAN/B,CAOHC,IAAI,CAAEX,IAAI,CAACI,UAAL,CAAgBQ,QAPnB,CAAP,CASA,MAAOZ,CAAAA,IAAP,CACH,CAXO,CAAR,CAYA,MAAKX,QAAL,CAAc,CAAEL,KAAK,CAAEA,KAAT,CAAgBC,KAAK,CAAE,EAAvB,CAAd,EACH,CAhBL,EAgBO4B,KAhBP,CAgBa,SAAAC,GAAG,QAAI,OAAKzB,QAAL,CAAc,CAAEJ,KAAK,CAAE6B,GAAG,CAAChB,KAAb,CAAd,CAAJ,EAhBhB,EAiBH,C,OAEDiB,iB,CAAoB,SAAA3B,KAAK,CAAI,CACzBA,KAAK,CAACK,cAAN,GACA,GAAIuB,CAAAA,UAAU,CAAG,MAAKlC,KAAL,CAAWE,KAAX,CAAiBiC,MAAjB,CAAwB,SAAAC,SAAS,QAAIA,CAAAA,SAAS,CAAChB,EAAV,GAAiBd,KAAK,CAACE,MAAN,CAAaY,EAAlC,EAAjC,CAAjB,CACAc,UAAU,CAAGA,UAAU,CAAC,CAAD,CAAvB,CACA1C,GAAG,CAAC6C,QAAJ,CAAaH,UAAb,EAAyBrB,IAAzB,CAA8B,MAAKN,QAAL,CAAc,CAAEH,OAAO,CAAEkC,KAAK,CAAC,0BAAD,CAAhB,CAAd,CAA9B,EAA6FP,KAA7F,CAAmG,SAAAC,GAAG,QAAIO,CAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ,CAAJ,EAAtG,EACH,C,wEAEQ,CACL,mBACI,oBAAC,SAAD,EAAW,KAAK,CAAE,IAAlB,eACI,oBAAC,SAAD,mBACI,mDADJ,cAEI,sEAFJ,CADJ,cAKI,oBAAC,SAAD,mBACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,IAAI,CAAC,IAAV,eACI,oBAAC,UAAD,EAAY,gBAAgB,CAAE,KAAKtB,gBAAnC,CAAqD,iBAAiB,CAAE,KAAKL,iBAA7E,EADJ,CADJ,CADJ,CALJ,cAYI,8BAZJ,cAaI,oBAAC,SAAD,mBACI,oBAAC,WAAD,EAAa,KAAK,CAAE,KAAKL,KAAL,CAAWE,KAA/B,CAAsC,iBAAiB,CAAE,KAAK+B,iBAA9D,EADJ,CAbJ,CADJ,CAoBH,C,mBA7De1C,S,EAkEpB,cAAeQ,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport SearchForm from \"../components/SearchForm\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport BookResults from \"../components/BookResults\";\n\nclass Books extends Component {\n    state = {\n        search: \"\",\n        books: [],\n        error: \"\",\n        message: \"\"\n    };\n\n    handleInputChange = event => {\n        this.setState({ search: event.target.value });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        API.getGoogleSearchBooks(this.state.search)\n            .then(res => {\n                let books = res.data.items;\n                books = books.map(book => {\n                    book = {\n                        key: book.id,\n                        id: book.id,\n                        title: book.volumeInfo.title,\n                        author: book.volumeInfo.authors,\n                        description: book.volumeInfo.description,\n                        image: book.volumeInfo.imageLinks.thumbnail,\n                        link: book.volumeInfo.infoLink\n                    };\n                    return book;\n                })\n                this.setState({ books: books, error: \"\" });\n            }).catch(err => this.setState({ error: err.items }));\n    }\n\n    handleSavedButton = event => {\n        event.preventDefault();\n        let booksSaved = this.state.books.filter(bookSaved => bookSaved.id === event.target.id);\n        booksSaved = booksSaved[0];\n        API.saveBook(booksSaved).then(this.setState({ message: alert(\"This book has been saved\") })).catch(err => console.log(err));\n    }\n\n    render() {\n        return (\n            <Container fluid={true}>\n                <Jumbotron>\n                    <h1>Google Book Search</h1>\n                    <h4>Search for and Save Books of Interest</h4>\n                </Jumbotron>\n                <Container>\n                    <Row>\n                        <Col size=\"12\">\n                            <SearchForm handleFormSubmit={this.handleFormSubmit} handleInputChange={this.handleInputChange} />\n                        </Col>\n                    </Row>\n                </Container>\n                <br />\n                <Container>\n                    <BookResults books={this.state.books} handleSavedButton={this.handleSavedButton} />\n                </Container>\n            </Container>\n\n        )\n    }\n\n\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}